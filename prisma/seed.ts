/**
 * Database Seed Script
 * Seeds initial data for development
 */

import { PrismaClient } from '@prisma/client';
import * as bcrypt from 'bcrypt';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± Starting database seed...');

  // Clear existing data (development only)
  console.log('üßπ Cleaning existing data...');
  await prisma.trainStop.deleteMany();
  await prisma.train.deleteMany();
  await prisma.trainType.deleteMany();
  await prisma.station.deleteMany();
  await prisma.adminLog.deleteMany();
  await prisma.adminUser.deleteMany();
  await prisma.adminRole.deleteMany();

  // ============================================
  // 1. TRAIN TYPES (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏ñ)
  // ============================================
  console.log('üöÇ Seeding train types...');
  
  const trainTypes = await Promise.all([
    prisma.trainType.create({
      data: {
        code: 'express_special',
        nameTh: '‡∏î‡πà‡∏ß‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©',
        nameEn: 'Special Express',
        nameCn: 'ÁâπÂø´',
        baseFare: 170,
        sortOrder: 1,
        color: '#FF6B6B',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'express_special_cnr',
        nameTh: '‡∏î‡πà‡∏ß‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© (CNR)',
        nameEn: 'Special Express (CNR)',
        nameCn: 'ÁâπÂø´ (CNR)',
        baseFare: 190,
        sortOrder: 2,
        color: '#FF5252',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'express',
        nameTh: '‡∏î‡πà‡∏ß‡∏ô',
        nameEn: 'Express',
        nameCn: 'Âø´ËΩ¶',
        baseFare: 150,
        sortOrder: 3,
        color: '#4ECDC4',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'rapid',
        nameTh: '‡πÄ‡∏£‡πá‡∏ß',
        nameEn: 'Rapid',
        nameCn: 'Âø´ÈÄü',
        baseFare: 20,
        sortOrder: 4,
        color: '#95E1D3',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'ordinary',
        nameTh: '‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤',
        nameEn: 'Ordinary',
        nameCn: 'ÊôÆÈÄö',
        baseFare: 0,
        sortOrder: 5,
        color: '#A8E6CF',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'local',
        nameTh: '‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô',
        nameEn: 'Local',
        nameCn: 'Êú¨Âú∞',
        baseFare: 0,
        sortOrder: 6,
        color: '#C7CEEA',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'commuter',
        nameTh: '‡∏ä‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á',
        nameEn: 'Commuter',
        nameCn: 'Â∏ÇÈÉä',
        baseFare: 0,
        sortOrder: 7,
        color: '#B8B8FF',
      },
    }),
    prisma.trainType.create({
      data: {
        code: 'special_commuter',
        nameTh: '‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ä‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á',
        nameEn: 'Special Commuter',
        nameCn: 'ÁâπÊÆäÂ∏ÇÈÉä',
        baseFare: 0,
        sortOrder: 8,
        color: '#9B9BFF',
      },
    }),
  ]);

  console.log(`‚úÖ Created ${trainTypes.length} train types`);

  // ============================================
  // 2. STATIONS (‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ)
  // ============================================
  console.log('üè¢ Seeding stations...');

  const stations = await Promise.all([
    // Bangkok (‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û)
    prisma.station.create({
      data: {
        stationCode: 1,
        codeTh: '‡∏Å‡∏ó',
        codeEn: 'BKK',
        codeCn: 'Êõº',
        nameTh: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û (‡∏´‡∏±‡∏ß‡∏•‡∏≥‡πÇ‡∏û‡∏á)',
        nameEn: 'Bangkok (Hua Lamphong)',
        nameCn: 'ÊõºË∞∑ (ÂçéÂçóËì¨)',
        displayNameTh: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
        displayNameEn: 'Bangkok',
        displayNameCn: 'ÊõºË∞∑',
        distanceForPricing: 0,
        distanceActual: 0,
        stationClass: 'special',
        latitude: 13.7373,
        longitude: 100.5168,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room', 'Ticket Office']),
        isActive: true,
      },
    }),
    
    // Don Mueang (‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á)
    prisma.station.create({
      data: {
        stationCode: 1001,
        codeTh: '‡∏î‡∏°',
        codeEn: 'DMK',
        codeCn: 'ÂªäÊõº',
        nameTh: '‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á',
        nameEn: 'Don Mueang',
        nameCn: 'ÂªäÊõº',
        distanceForPricing: 15.8,
        distanceActual: 15.8,
        stationClass: '1',
        latitude: 13.9116,
        longitude: 100.6078,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Airport Connection']),
        isActive: true,
      },
    }),

    // Ayutthaya (‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤)
    prisma.station.create({
      data: {
        stationCode: 1059,
        codeTh: '‡∏≠‡∏¢',
        codeEn: 'AYA',
        codeCn: 'Â§ßÂüé',
        nameTh: '‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤',
        nameEn: 'Ayutthaya',
        nameCn: 'Â§ßÂüé',
        distanceForPricing: 71.8,
        distanceActual: 71.8,
        stationClass: '1',
        latitude: 14.3537,
        longitude: 100.5603,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room']),
        isActive: true,
      },
    }),

    // Lopburi (‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ)
    prisma.station.create({
      data: {
        stationCode: 1081,
        codeTh: '‡∏•‡∏ö',
        codeEn: 'LPB',
        codeCn: 'ÂçéÂØåÈáå',
        nameTh: '‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ',
        nameEn: 'Lopburi',
        nameCn: 'ÂçéÂØåÈáå',
        distanceForPricing: 132.2,
        distanceActual: 132.2,
        stationClass: '1',
        latitude: 14.7995,
        longitude: 100.6195,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant']),
        isActive: true,
      },
    }),

    // Phitsanulok (‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å)
    prisma.station.create({
      data: {
        stationCode: 1129,
        codeTh: '‡∏û‡∏•',
        codeEn: 'PSL',
        codeCn: 'ÂΩ≠‰∏ñÊ¥õ',
        nameTh: '‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å',
        nameEn: 'Phitsanulok',
        nameCn: 'ÂΩ≠‰∏ñÊ¥õ',
        distanceForPricing: 377.4,
        distanceActual: 377.4,
        stationClass: '1',
        latitude: 16.8219,
        longitude: 100.2658,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room']),
        isActive: true,
      },
    }),

    // Lampang (‡∏•‡∏≥‡∏õ‡∏≤‡∏á)
    prisma.station.create({
      data: {
        stationCode: 1149,
        codeTh: '‡∏•‡∏õ',
        codeEn: 'LPG',
        codeCn: 'ÂçóÈÇ¶',
        nameTh: '‡∏•‡∏≥‡∏õ‡∏≤‡∏á',
        nameEn: 'Lampang',
        nameCn: 'ÂçóÈÇ¶',
        distanceForPricing: 516.9,
        distanceActual: 516.9,
        stationClass: '1',
        latitude: 18.2883,
        longitude: 99.5114,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant']),
        isActive: true,
      },
    }),

    // Chiang Mai (‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà)
    prisma.station.create({
      data: {
        stationCode: 1159,
        codeTh: '‡∏ä‡∏°',
        codeEn: 'CNX',
        codeCn: 'Ê∏ÖËøà',
        nameTh: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',
        nameEn: 'Chiang Mai',
        nameCn: 'Ê∏ÖËøà',
        distanceForPricing: 751.4,
        distanceActual: 751.4,
        stationClass: 'special',
        latitude: 18.7948,
        longitude: 98.9963,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room', 'Ticket Office']),
        isActive: true,
      },
    }),

    // Nakhon Ratchasima (Korat) (‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤)
    prisma.station.create({
      data: {
        stationCode: 2001,
        codeTh: '‡∏ô‡∏°',
        codeEn: 'NKR',
        codeCn: 'ÂëµÂèª',
        nameTh: '‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä)',
        nameEn: 'Nakhon Ratchasima (Korat)',
        nameCn: 'ÂëµÂèª',
        displayNameTh: '‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤',
        displayNameEn: 'Nakhon Ratchasima',
        distanceForPricing: 264.1,
        distanceActual: 264.1,
        stationClass: '1',
        latitude: 14.9730,
        longitude: 102.0977,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room']),
        isActive: true,
      },
    }),

    // Udon Thani (‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ)
    prisma.station.create({
      data: {
        stationCode: 2059,
        codeTh: '‡∏≠‡∏î',
        codeEn: 'UDN',
        codeCn: '‰πåÈöÜ',
        nameTh: '‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ',
        nameEn: 'Udon Thani',
        nameCn: '‰πåÈöÜ',
        distanceForPricing: 568.6,
        distanceActual: 568.6,
        stationClass: '1',
        latitude: 17.3644,
        longitude: 102.8146,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room']),
        isActive: true,
      },
    }),

    // Nong Khai (‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢)
    prisma.station.create({
      data: {
        stationCode: 2071,
        codeTh: '‡∏ô‡∏Ñ',
        codeEn: 'NKI',
        codeCn: 'ÂªäÂºÄ',
        nameTh: '‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢',
        nameEn: 'Nong Khai',
        nameCn: 'ÂªäÂºÄ',
        distanceForPricing: 624.2,
        distanceActual: 624.2,
        stationClass: '1',
        latitude: 17.8782,
        longitude: 102.7412,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Border Crossing']),
        isActive: true,
      },
    }),

    // Hat Yai (‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà)
    prisma.station.create({
      data: {
        stationCode: 4501,
        codeTh: '‡∏´‡∏¢',
        codeEn: 'HTY',
        codeCn: 'ÂêàËâæ',
        nameTh: '‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà',
        nameEn: 'Hat Yai',
        nameCn: 'ÂêàËâæ',
        distanceForPricing: 945.1,
        distanceActual: 945.1,
        stationClass: '1',
        latitude: 7.0078,
        longitude: 100.4768,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room', 'Ticket Office']),
        isActive: true,
      },
    }),

    // Surat Thani (‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ)
    prisma.station.create({
      data: {
        stationCode: 4001,
        codeTh: '‡∏™‡∏é',
        codeEn: 'SRT',
        codeCn: 'Á¥†Âèª',
        nameTh: '‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ',
        nameEn: 'Surat Thani',
        nameCn: 'Á¥†Âèª',
        distanceForPricing: 651.1,
        distanceActual: 651.1,
        stationClass: '1',
        latitude: 9.1382,
        longitude: 99.3339,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Restaurant', 'Waiting Room']),
        isActive: true,
      },
    }),

    // Hua Hin (‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô)
    prisma.station.create({
      data: {
        stationCode: 3501,
        codeTh: '‡∏´‡∏´',
        codeEn: 'HHN',
        codeCn: 'ÂçéÊ¨£',
        nameTh: '‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô',
        nameEn: 'Hua Hin',
        nameCn: 'ÂçéÊ¨£',
        distanceForPricing: 229.2,
        distanceActual: 229.2,
        stationClass: '2',
        latitude: 12.5704,
        longitude: 99.9574,
        facilities: JSON.stringify(['ATM', 'WiFi', 'Tourist Info']),
        isActive: true,
      },
    }),

    // Prachuap Khiri Khan (‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå)
    prisma.station.create({
      data: {
        stationCode: 3521,
        codeTh: '‡∏õ‡∏Ç',
        codeEn: 'PKN',
        codeCn: 'Â∑¥ËúÄ',
        nameTh: '‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå',
        nameEn: 'Prachuap Khiri Khan',
        nameCn: 'Â∑¥ËúÄ',
        distanceForPricing: 318.4,
        distanceActual: 318.4,
        stationClass: '2',
        latitude: 11.8125,
        longitude: 99.7978,
        facilities: JSON.stringify(['ATM', 'WiFi']),
        isActive: true,
      },
    }),
  ]);

  console.log(`‚úÖ Created ${stations.length} stations`);

  // ============================================
  // 3. TRAINS (‡∏Ç‡∏ö‡∏ß‡∏ô‡∏£‡∏ñ)
  // ============================================
  console.log('üöÜ Seeding trains...');

  const bangkok = stations[0];
  const chiangMai = stations[6];
  const nongKhai = stations[9];
  const hatYai = stations[10];
  const ayutthaya = stations[2];

  const trains = await Promise.all([
    // Train 1: Bangkok - Chiang Mai (Special Express)
    prisma.train.create({
      data: {
        trainNumber: '1',
        trainNameTh: '‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πà‡∏ß‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û - ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',
        trainNameEn: 'Special Express Bangkok - Chiang Mai',
        trainNameCn: 'ÁâπÂø´ ÊõºË∞∑ - Ê∏ÖËøà',
        trainTypeId: trainTypes[0].id,
        originStationId: bangkok.id,
        destinationStationId: chiangMai.id,
        departureTime: new Date('2024-01-01T18:00:00'),
        arrivalTime: new Date('2024-01-02T07:45:00'),
        durationMinutes: 825,
        operatingDays: 'daily',
        runningOrder: 1,
        totalDistanceKm: 751.4,
        isActive: true,
      },
    }),

    // Train 2: Chiang Mai - Bangkok (Special Express)
    prisma.train.create({
      data: {
        trainNumber: '2',
        trainNameTh: '‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πà‡∏ß‡∏ô ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà - ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
        trainNameEn: 'Special Express Chiang Mai - Bangkok',
        trainNameCn: 'ÁâπÂø´ Ê∏ÖËøà - ÊõºË∞∑',
        trainTypeId: trainTypes[0].id,
        originStationId: chiangMai.id,
        destinationStationId: bangkok.id,
        departureTime: new Date('2024-01-01T17:00:00'),
        arrivalTime: new Date('2024-01-02T06:35:00'),
        durationMinutes: 815,
        operatingDays: 'daily',
        runningOrder: 2,
        totalDistanceKm: 751.4,
        isActive: true,
      },
    }),

    // Train 25: Bangkok - Nong Khai (Express)
    prisma.train.create({
      data: {
        trainNumber: '25',
        trainNameTh: '‡∏î‡πà‡∏ß‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û - ‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢',
        trainNameEn: 'Express Bangkok - Nong Khai',
        trainNameCn: 'Âø´ËΩ¶ ÊõºË∞∑ - ÂªäÂºÄ',
        trainTypeId: trainTypes[2].id,
        originStationId: bangkok.id,
        destinationStationId: nongKhai.id,
        departureTime: new Date('2024-01-01T20:00:00'),
        arrivalTime: new Date('2024-01-02T08:00:00'),
        durationMinutes: 720,
        operatingDays: 'daily',
        runningOrder: 25,
        totalDistanceKm: 624.2,
        isActive: true,
      },
    }),

    // Train 26: Nong Khai - Bangkok (Express)
    prisma.train.create({
      data: {
        trainNumber: '26',
        trainNameTh: '‡∏î‡πà‡∏ß‡∏ô ‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢ - ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
        trainNameEn: 'Express Nong Khai - Bangkok',
        trainNameCn: 'Âø´ËΩ¶ ÂªäÂºÄ - ÊõºË∞∑',
        trainTypeId: trainTypes[2].id,
        originStationId: nongKhai.id,
        destinationStationId: bangkok.id,
        departureTime: new Date('2024-01-01T18:00:00'),
        arrivalTime: new Date('2024-01-02T06:00:00'),
        durationMinutes: 720,
        operatingDays: 'daily',
        runningOrder: 26,
        totalDistanceKm: 624.2,
        isActive: true,
      },
    }),

    // Train 31: Bangkok - Hat Yai (Special Express)
    prisma.train.create({
      data: {
        trainNumber: '31',
        trainNameTh: '‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πà‡∏ß‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û - ‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà',
        trainNameEn: 'Special Express Bangkok - Hat Yai',
        trainNameCn: 'ÁâπÂø´ ÊõºË∞∑ - ÂêàËâæ',
        trainTypeId: trainTypes[0].id,
        originStationId: bangkok.id,
        destinationStationId: hatYai.id,
        departureTime: new Date('2024-01-01T14:00:00'),
        arrivalTime: new Date('2024-01-02T05:00:00'),
        durationMinutes: 900,
        operatingDays: 'daily',
        runningOrder: 31,
        totalDistanceKm: 945.1,
        isActive: true,
      },
    }),

    // Train 32: Hat Yai - Bangkok (Special Express)
    prisma.train.create({
      data: {
        trainNumber: '32',
        trainNameTh: '‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πà‡∏ß‡∏ô ‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà - ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
        trainNameEn: 'Special Express Hat Yai - Bangkok',
        trainNameCn: 'ÁâπÂø´ ÂêàËâæ - ÊõºË∞∑',
        trainTypeId: trainTypes[0].id,
        originStationId: hatYai.id,
        destinationStationId: bangkok.id,
        departureTime: new Date('2024-01-01T13:30:00'),
        arrivalTime: new Date('2024-01-02T04:30:00'),
        durationMinutes: 900,
        operatingDays: 'daily',
        runningOrder: 32,
        totalDistanceKm: 945.1,
        isActive: true,
      },
    }),
  ]);

  console.log(`‚úÖ Created ${trains.length} trains`);

  // ============================================
  // 4. ADMIN ROLES & USERS
  // ============================================
  console.log('üë§ Seeding admin roles and users...');

  const superAdminRole = await prisma.adminRole.create({
    data: {
      code: 'super_admin',
      nameTh: '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î',
      nameEn: 'Super Administrator',
      permissions: JSON.stringify([
        'manage_stations',
        'manage_trains',
        'manage_prices',
        'manage_announcements',
        'manage_users',
        'manage_roles',
        'view_logs',
      ]),
      isActive: true,
    },
  });

  const adminRole = await prisma.adminRole.create({
    data: {
      code: 'admin',
      nameTh: '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö',
      nameEn: 'Administrator',
      permissions: JSON.stringify([
        'manage_stations',
        'manage_trains',
        'manage_prices',
        'manage_announcements',
        'view_logs',
      ]),
      isActive: true,
    },
  });

  // Create default super admin user
  const hashedPassword = await bcrypt.hash('Admin123!', 10);
  
  const adminUser = await prisma.adminUser.create({
    data: {
      username: 'admin',
      email: 'admin@srt-timetable.local',
      passwordHash: hashedPassword,
      fullName: 'System Administrator',
      roleId: superAdminRole.id,
      isActive: true,
    },
  });

  console.log(`‚úÖ Created admin roles and default user (username: admin, password: Admin123!)`);

  // ============================================
  // SUMMARY
  // ============================================
  console.log('\nüéâ Seed completed successfully!');
  console.log('=====================================');
  console.log(`üìä Train Types: ${trainTypes.length}`);
  console.log(`üè¢ Stations: ${stations.length}`);
  console.log(`üöÜ Trains: ${trains.length}`);
  console.log(`üë§ Admin Users: 1`);
  console.log(`üîë Admin Roles: 2`);
  console.log('=====================================');
  console.log('\nüìù Login Credentials:');
  console.log('   Username: admin');
  console.log('   Password: Admin123!');
  console.log('=====================================\n');
}

main()
  .catch((e) => {
    console.error('‚ùå Seed failed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
